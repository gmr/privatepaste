{% extends "base.dtl" %}
{% load humanize %}
{% block title %}{{ _("Application Report") }}{% endblock %}
{% block content %}
<div class="container" id="info">
  <br>
  <div class="panel panel-default">
    <div class="panel-heading"><strong class="text-primary">{{ _("Application Report") }}</strong></div>
    <div class="panel-body">
      <dl class="dl-horizontal">
        <dt>{{ _("Node") }}</dt>
        <dd><code>{{ node }}</code></dd>
        <dt>{{ _("Erlang Version") }}</dt>
        <dd><code>{{ system_version }}</code></dd>
        <dt>{{ _("Running Processes") }}</dt>
        <dd>{{ proc_count|intcomma }}</dd>
        <dt>{{ _("System Architecture") }}</dt>
        <dd><code>{{ architecture }}</code></dd>
        <dt>{{ _("Language") }}</dt>
        <dd><code>{{ language }}</code></dd>
      </dl>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <div class="panel panel-default">
        <div class="panel-heading"><strong class="text-primary">{{ _("Loaded Applications") }}</strong></div>
        <table class="table table-hover table-striped table-bordered">
          <thead>
            <tr>
              <th>{{ _("Application") }}</th>
              <th>{{ _("Version") }}</th>
              <th class="text-center">{{ _("Description") }}</th>
            </tr>
          </thead>
          <tbody>
          {% for key, desc, version in apps %}
            <tr>
              <td><strong>{{ key }}</strong></td>
              <td><code>{{ version }}</code></td>
              <td>{{ desc }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="panel panel-default">
        <div class="panel-heading"><strong class="text-primary">{{ _("Memory Utilization") }}</strong></div>
        <table class="table table-hover table-striped table-bordered">
          <thead>
            <tr>
              <th>{{ _("Key") }}</th>
              <th class="text-right">{{ _("Bytes") }}</th>
            </tr>
          </thead>
          <tbody>
          {% for row in memory %}{% for key, value in row %}
            <tr>
              <td><strong>{{ key }}</strong></td>
              <td class="text-right">{{ value|intcomma }}</td>
            </tr>
          {% endfor %}{% endfor %}
          </tbody>
        </table>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">
            <strong class="text-primary">{{ _("Mnesia Statistics") }}</strong>
        </div>
        <table class="table table-hover table-striped table-bordered">
          <thead>
            <tr>
              <th>{{ _("Key") }}</th>
              <th class="text-right">{{ _("Count") }}</th>
            </tr>
          </thead>
          <tbody>
          {% for row in mnesia %}{% for key, value in row %}
            <tr>
              <td><strong>{{ key }}</strong></td>
              <td class="text-right">{{ value|intcomma }}</td>
            </tr>
          {% endfor %}{% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading"><strong class="text-primary">{{ _("Request Headers") }}</strong></div>
    <table class="table table-hover table-striped table-bordered">
      <tbody>
      {% for row in headers %}{% for key, value in row %}
        <tr>
          <td><strong>{{ key }}</strong></td>
          <td><code>{{ value }}</code></td>
        </tr>
      {% endfor %}{% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
